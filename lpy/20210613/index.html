<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>很高兴遇见你</title>

    <script>
        //判断客户端设备，选择写入meta
        function init_viewport(){
            if(navigator.userAgent.indexOf('Android') != -1){
                var version = parseFloat(RegExp.$1);
                if(version>2.3){
                    var width = window.outerWidth == 0 ? window.screen.width : window.outerWidth;
                    var phoneScale = parseInt(width)/500;
                    document.write('<meta name="viewport" content="width=500, minimum-scale = '+ phoneScale +', maximum-scale = '+ phoneScale +', target-densitydpi=device-dpi">');
                }else{
                    document.write('<meta name="viewport" content="width=500, target-densitydpi=device-dpi, user-scalable=0">');
                }
            }else if(navigator.userAgent.indexOf('iPhone') != -1){
                var phoneScale = parseInt(window.screen.width)/500;
                document.write('<meta name="viewport" content="width=500, min-height=750, initial-scale=' + phoneScale +', maximum-scale='+phoneScale+', user-scalable=0" /> ');         //0.75   0.82
            }else{
                document.write('<meta name="viewport" content="width=500, height=750, initial-scale=0.64" /> '); //0.75  0.82
            }
        }
        init_viewport();
    </script> 


	<style>
		* {
            padding: 0px;
            margin: 0px;
            -webkit-box-sizing: border-box;
        } 
        body {
            background-color: white;
        }
        a {
            color: white;
            text-decoration: none; 
        }

        #div_container { /*最外层div，用于居中兼容PC和移动*/
            width: 500px;
            margin: 0px auto; 
            position: relative; 
            /*background-color: #FAFAFA;*/
            font-size: 1em;
        }



        .div_simple_page { /*文字部分的最外层，用于定位*/
            position: relative;
            display: none;
        }
        .div_s_page_bg { /*背景设置在这里*/
            background-repeat: repeat; 
            background-size: 100%; 
            background-attachment: fixed; 
            width: 500px;
            min-height: 1200px; 
        }
        .div_s_page_height {
            visibility: hidden;
            padding: 30px; 
            text-align: justify;  /*为了使文字两端对齐 */
            white-space:pre-wrap; /*保留换行效果*/
            color: silver;            
        }
        .div_s_page_zx {
            position: absolute;
            left: 0;
            right: 0;  /*4个方向定位使div充满整个画画*/
            top: 0;
            bottom: 0;  /*4个方向定位使div充满整个画画*/
            width: 500px;            
            background:rgba(255,255,255,0.8); /*半透明效果*/
            padding: 30px; 
            text-align: justify;  /*为了使文字两端对齐 */
            white-space:pre-wrap; /*保留换行效果*/ 
        }     


        #div_start_bg{
            width: 100%; height: 100%;
            position: absolute;
            left: 0px; top: 0px;
            z-index: 44;
            background-color: white;
        }
	</style>

    <link type="text/css" rel="stylesheet" href="css/theme_s_page_zx.css">

    <!-- 按钮部分的样式 -->
    <link type="text/css" rel="stylesheet" href="css/theme_public_btn.css">


        

        

     

     

      

    <!-- 按需加载，选择此片头时方才加载 -->
        <link type="text/css" rel="stylesheet" href="css/start_onlyyou.css"> 

     
</head>

<body>
    <div id="div_container"> <!-- 最外层div，用于居中兼容PC和移动 --> 

        <div id="div_start_bg"></div> <!-- 用于遮挡主题，作为片头的背景 -->


                

        <!-- 按需加载，选择此片头时方才加载 -->



        


          



        


        <!-- 按需加载，选择此片头时方才加载 -->
            <div id="div_onlyyou"><!-- 用于设置背景 -->
                <div id="div_oy_inner"><!-- 用于存放content --> 
                    <div class="div_oy_text">
                        <h1></h1>
                        <img class="img_oy_text" src="">
                        <p class="p_oy_text"></p>
                        <ul id="ul_oy_benefit">
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                            <li class="li_oy_benefit"></li>                             
                        </ul> 
                    </div> 
                    <ul id="ul_oy_btn">
                        <li onclick="oy_go_next()">继续了解&nbsp;&nbsp;❤</li>
                        <li onclick="oy_show_benefit()" id="no">残忍拒绝&nbsp;&nbsp;✖</li>
                    </ul>
                    <div id="div_oy_note" onclick="oy_hide_note()">
                        <img src="images/emoji_kelian.jpg" alt=""><br>
                        请告诉我Yes！
                        <div id="div_oy_note_close">✖</div>
                    </div>
                    <div id="div_oy_yes">
                        <img src="images/emoji_bixin.jpg" alt=""><br>
                        太好了！哈哈~ 
                    </div>
                </div>
            </div>        
  
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->
        <!-- 以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头  以上是动画和视频片头 -->






        <div class="div_simple_page"> <!-- 文字部分的最外层，用于定位 -->
            <div class="div_s_page_bg"><!-- 背景设置在这里 -->
                <div class="div_s_page_height"> 
                    <!-- 正文的内容复制到这里面，撑开整个文档的高度 -->
                </div>
            </div> 
            <div class="div_s_page_zx"> 
                <!-- 正文部分，绝对定位 --> <!-- zx-editor的内容放在这里 -->
            </div> 
        </div>



        

        




        <div id='div_btn_container'> <!-- 按钮部分的最外层，处于文档流之中 -->
            <div id="div_btn_inner"> <!-- 按钮部分内层，用于定位 -->

                <div class='div_music_tips'></div>
                <div class="div_btn" id="div_music" onclick="music_switch()"> <!-- 音乐按钮部分 -->
                    <!-- <img id='img_music' src='images/music_note_big.png' style='-webkit-animation:music_play_rotate 1s linear infinite'>  -->
                    <audio id="audio_music" autoplay="autoplay" loop="loop">
                        <source type="audio/mpeg"/>  
                        <!-- 您的浏览器不支持播放音乐 -->
                    </audio>
                </div>

                <div class='div_record_tips'></div>
                <!-- <div class="div_btn" id="div_record" onclick="record_switch()"> 
                    语音
                    <audio id="audio_record" loop="loop">
                        <source type="audio/mpeg"/>  
                    </audio>
                </div> -->
                
                <!-- 只在提交状态显示 只在提交状态显示 只在提交状态显示 只在提交状态显示 -->
                <!-- <div class="div_btn" id='div_support'>
                        <a href="https://mp.weixin.qq.com/s/LzADwCL6pFwWQPkYYqNEnA"><span>更多</span></a>
                    </div>   -->
                <!-- 只在提交状态显示 只在提交状态显示 只在提交状态显示 只在提交状态显示 -->

                <!-- 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 -->
                  
                <!-- 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 只在未提交状态显示 -->
            </div> 
        </div>
    </div>







    <script src="js/jquery-2.0.3.min.js"></script>
    <script src="js/typed.min.js"></script>
    <script src="js/support_upload_as.js"></script>   
    <script src="js/jweixin-1.2.0.js"></script> 
    <script>
        console.log('$(window).height ->'+$(window).height());

        var theme='simple_page';
        console.log('theme ->'+theme);
        var theme_content={
            "simple_page_content":
            `&lt;h2&gt;
          时光明媚了你的眼，也让你住进了我的心房❤️

        没什么特别喜欢的零食，没什么特别喜欢的歌，唯有个特别喜欢的你❤️

        我曾爱慕诗与远方，无所羁绊，直到遇见了你，才发现你的心才是我想去的地方❤️

        什么是真正的爱，真心诚意的为对方付出，不会觉得心力交瘁，也不会因为得不到感激而忿忿不平，这样的付出是完全不求回报的，只因为这个人是你❤️

        问你个问题，在你心目中希望伴侣是什么样的呢？&lt;h2&gt;`,
        "bg_style":"bg_custom",
        "bg_img":"123.jpg",
        "pure_words_content":"\u611f\u60c5\u6de1\u4e86\u6211\u4eec\u518d\u57f9\u517b\uff0c\u65e0\u8bdd\u53ef\u8bf4\u4e86\u6211\u4eec\u5c31\u518d\u53bb\u627e\u8bdd\u9898\uff0c\u817b\u4e86\u6211\u4eec\u5c31\u91cd\u65b0\u5f00\u59cb\uff0c\u8981\u662f\u7d2f\u4e86\u5c31\u7ed9\u5f7c\u6b64\u7a7a\u95f4\uff0c\u4eba\u6f6e\u62e5\u6324\u9047\u89c1\u4f60\u4e0d\u5bb9\u6613\uff0c\u6211\u7231\u4f60\ud83d\udc95","typed_bool":"typed_y","cursor_char":"cursor_heart","bg_style_pure_words":"bg_opacity","video_page_content":""};
        console.log(theme_content);

        var music_json={"music_select":"m_online","m_online_id":"2","m_online_url":"123.mp3","m_upload_name":"null","m_upload_url":"null"};
        console.log(music_json);
        var record_json={"record_bool":null,"r_wechat_time":"null","r_wechat_url":"null","r_wechat_amr":"null"};
        console.log(record_json);
        var signPackage={"appid":"wx47f716bdd7699533","timestamp":1580648510,"nonceStr":"huLJdVCkFBGKC2kZ","url":"http:\/\/www.makusi.cn\/Home\/Play\/play_show\/ws\/YGdmnWxj","signature":"22892ca8091fac2753990cc108e20bef52eb1706","rawString":"jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VHINcjHJVwMsFjJyfreRy7BWBL6v6cFFh_VXICTjHY67yVgg2Z-ezii2J4nZgJEehw&noncestr=huLJdVCkFBGKC2kZ&timestamp=1580648510&url=http:\/\/www.makusi.cn\/Home\/Play\/play_show\/ws\/YGdmnWxj"};

        var main_title='很高兴遇见你';
        // console.log(main_title);
        if(main_title=='' || main_title=='null'){  //允许标题为空
            document.title='很高兴遇见你';
        }
        // console.log("");
        

        var s_page_content=theme_content['simple_page_content']; 
        var interval_s_height;
        var height_s_page=$(".div_s_page_height").height(); 
        function init_simple_page(){
            load_saved_content(); //加载内容
            // 初始化设置div的bg图片 初始化设置div的bg图片
            if(typeof(theme_content['bg_style'])!='undefined' && theme_content['bg_style']=='bg_custom'){
                if(typeof(theme_content['bg_img'])!='undefined' && theme_content['bg_img']!=''){                    
                    $(".div_s_page_bg").css({"background-image": "url("+theme_content['bg_img']+")"});
                }
            }  

            interval_s_height=setInterval(function(){
                console.log('div_s_page_height -> '+$(".div_s_page_height").height());
                var latest_height_s_page=$(".div_s_page_height").height();
                if(latest_height_s_page<=height_s_page){
                    clearInterval(interval_s_height);
                    $(".div_s_page_height").height(latest_height_s_page+200);
                    if($(".div_s_page_height").height()<$(window).height()){
                        $(".div_s_page_height").height($(window).height()); //不能小于窗口的高度
                        console.log('let us be high as window');
                    }
                }else{
                    height_s_page=latest_height_s_page; 
                }
            },100);

            $(".div_simple_page").fadeIn();
            init_attachment();
        } 
        


        function load_saved_content(){
            if(typeof(s_page_content)=='undefined'){ //全新作品未保存
                console.log('s_page_content -> undefined');
                load_random_content();
                return;
            }
            // temp_content=escape2Html(s_page_content); 
            // temp_content=temp_content.replace(/<[^<>]+>/g,''); 
            // temp_content=temp_content.replace(/\n|\r|\s/g,'');
            // // console.log(temp_content);
            // if(temp_content==''){ //曾有保存但没有内容，则显示为空白
            //     load_random_content()
            //     return;
            // }
            console.log('load_saved_content');
            var html_content=escape2Html(s_page_content);
            $(".div_s_page_zx").html(html_content); //初始化加载内容 
            $(".div_s_page_height").html(html_content); //初始化复制内容，撑开文档高度 
        }

        function load_random_content(){
            console.log('load_random_content');
            var random_content="&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 style=&quot;color: rgb(255, 88, 61); font-weight: 800;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;送给你的小惊喜&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;"+random_text()+"&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;child-node-is-img&quot; contenteditable=&quot;false&quot;&gt;&lt;img src=&quot;"+random_img()+"&quot; width=&quot;100%&quot; height=&quot;auto&quot; id=&quot;zxeditor_img_1570285474432&quot;&gt;&lt;i class=&quot;__remove&quot;&gt;&lt;/i&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;"+random_text()+"&lt;/p&gt;&lt;p class=&quot;child-node-is-text&quot;&gt;"+random_text()+"&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;child-node-is-img&quot; contenteditable=&quot;false&quot;&gt;&lt;img src=&quot;"+random_img()+"&quot; width=&quot;100%&quot; height=&quot;auto&quot; id=&quot;zxeditor_img_1570409946707&quot;&gt;&lt;i class=&quot;__remove&quot;&gt;&lt;/i&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;child-node-is-text&quot;&gt;"+random_text()+"&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p class=&quot;child-node-is-text&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; "+"——爱你的小鹿"+"&lt;/p&gt;";
            var html_content=escape2Html(random_content);
            $(".div_s_page_zx").html(html_content); //初始化加载内容 
            $(".div_s_page_height").html(html_content); //初始化复制内容，撑开文档高度
        }


        //转义为html
        function escape2Html(str) {
            var arrEntities={'lt':'<','gt':'>','nbsp':' ','amp':'&','quot':'"'};
            return str.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(all,t){return arrEntities[t];});
        } 

        var temp_text_array=array_as_words_love;
        function random_text(){
            var random_text_index=Math.floor(Math.random()*temp_text_array.length);
            var random_text=temp_text_array[random_text_index];
            temp_text_array.splice(random_text_index,1);
            return random_text;
        }
        var temp_img_array=array_as_pics_s;
        function random_img(){
            var random_img_index=Math.floor(Math.random()*temp_img_array.length);
            var random_img=temp_img_array[random_img_index];
            temp_img_array.splice(random_img_index,1);
            return random_img;
        }
    </script>







        

     <!-- 按需加载，选择此片头时方才加载 -->
    

    <script> 
        var start_content={"intersect_text":
        "11",
        "cursor_char":"cursor_heart",
        "bg_style":"bg_custom",
        "bg_img":"123.jpg",
        "img_bool":"img_true",
        "img_src":"12.jpg",
        "chase_title":"你愿意和我继续了解吗",
        "chase_text":`我对你感觉还挺不错的，
好看的外表下藏着平淡的生活，
平淡的生活里藏着惊艳的灵魂，舞跳的不错。我还是不懂你，对你的了解太少了，连你喜欢吃什么，喜欢玩什么都没弄清楚，这次约会草率了。你还愿意和我继续了解吗？`,
        "chase_benefit":[
            "时光明媚了你的眼，也让你住进了我的心房",
        "没什么特别喜欢的零食，没什么特别喜欢的歌，唯有个特别喜欢的你",
        "我曾爱慕诗与远方，无所羁绊，直到遇见了你，才发现你的心才是我想去的地方",
        "\u5bb6\u4eba\u5341\u4e8c\u5212\ud83d\udc9b",
        "\u90a3\u4e48\u6211\u7ed9\u4f60\u5907\u6ce8\u5341\u4e09\u5427\ud83d\udc9e",
        "\u670b\u53cb\u591a\u4e00\u70b9\ud83d\udc98",
        "\u604b\u4eba\u591a\u4e00\u70b9\ud83d\udc95",
        "\u5bb6\u4eba\u591a\u4e00\u70b9\ud83d\udc9d",
        "\u6240\u4ee5\u5341\u4e09\u7684\u540d\u5b57\u53eb\uff1a\u504f\u7231\ud83d\udc97"]}; //可能为null
        console.log(start_content);
        
        $(function(){
            //此事件为触发互动创意
            var start_id='onlyyou'; //可能为null
            init_start(start_id);
        });
        
        function init_start(start_id){ 
            console.log('init_start ->'+start_id);
            switch(start_id){
                case 'loveformat':
                    $('.div_loveformat').show();
                    init_loveformat();
                    break;
                case 'hearttree':
                    $('#div_hearttree').show();
                    init_hearttree();
                    break;
                case 'courage':
                    $('#div_courage').show();
                    init_courage();
                    break;
                case 'birthdaycake':
                    $('#div_dbcake').show();
                    init_birthdaycake();
                    break;
                case 'intersect':
                    $('#div_intersect').show();
                    init_intersect();
                    break;
                case 'onlyyou':
                    $('#div_onlyyou').show();
                    init_onlyyou();
                    break;
                default:
                    init_theme(); 
            }
        } 

        //开始动画主体部分
        function init_theme(){
            console.log('init_theme');
            $('#div_start_bg').fadeOut();
            init_simple_page();
        }

    </script>




    

        

    

    

     


    <!-- 按需加载，选择此片头时方才加载 -->
        <script src="js/start_onlyyou.js"></script>




    <script> 
        var attachment='null'; //可能为null
        var attached_content={"bool_save":false}; //可能为null
        console.log(attached_content); 
       
        function init_attachment(){  //开始attachment
            console.log('init_attachment ->'+attachment);
            switch(attachment){
                case 'timer':
                    init_at_timer();
                    break;
                default:
                    return; 
            }
        } 
    </script>

            



    <script src='js/jweixin-1.2.0.js'></script>
	<script src='js/theme_common.js'></script> <!-- 音乐控制和微信设置等公共部分js外部引入 -->





</body>
</html>